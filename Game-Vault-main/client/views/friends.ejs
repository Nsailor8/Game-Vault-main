<!DOCTYPE html>
<html lang="en">
<%- include('partials/head', { pageTitle: 'Friends' }) %>
<body>
  <%- include('partials/header') %>

  <div class="container">
    <main class="main-content">
      
      <section id="friendsSection" class="content-section active">
        <div class="section-header">
          <h2>Friends</h2>
        </div>
        <div class="friends-content">
          <!-- Add Friend Section -->
          <div class="add-friend-section">
            <h3>Add Friend</h3>
            <div class="add-friend-form">
              <input type="text" id="friendUsernameInput" placeholder="Enter username..." class="form-input">
              <button id="sendFriendRequestBtn" class="btn btn-primary">Send Request</button>
            </div>
          </div>

          <!-- Main Content Grid -->
          <div class="friends-main-grid">
            <!-- Friends List -->
            <div class="friends-list">
              <h3>Friends (<span id="friendsCount">0</span>)</h3>
              <div id="friendsList" class="list-container">
                <!-- Friends will be dynamically populated by updateFriends() -->
              </div>
            </div>

            <!-- Requests Column -->
            <div class="requests-column">
              <!-- Received Requests -->
              <div class="received-requests">
                <h3>Friend Requests (<span id="receivedRequestsCount">0</span>)</h3>
                <div id="receivedRequests" class="list-container">
                  <div class="empty-state">
                    <i class="fas fa-user-plus"></i>
                    <h3>No friend requests</h3>
                    <p>You'll see friend requests here when people want to add you!</p>
                  </div>
                </div>
              </div>

              <!-- Sent Requests -->
              <div class="sent-requests">
                <h3>Sent Requests (<span id="sentRequestsCount">0</span>)</h3>
                <div id="sentRequests" class="list-container">
                  <div class="empty-state">
                    <i class="fas fa-paper-plane"></i>
                    <h3>No sent requests</h3>
                    <p>Your sent friend requests will appear here!</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </main>
  </div>

  <%- include('partials/loginModal') %>

  <!-- Friend Profile Modal -->
  <div id="friendProfileModal" class="modal" style="display: none;">
    <div class="modal-content modal-small">
      <div class="modal-header">
        <h2 id="friendUsername">Friend Name</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <p>Friend profile will load here.</p>
      </div>
    </div>
  </div>

  <script src="/app.js"></script>
  <script>

    document.addEventListener('DOMContentLoaded', () => {
      console.log('Friends page - DOM Content Loaded');

    });
  </script>
</body>
</html>
